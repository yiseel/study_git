<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<title>Works List : MEDIA4TH ALLIANCE</title>
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="Cache-Control" content="no-cache">
	<meta http-equiv="Pragma" content="no-cache">
	<meta name="title" content="Works List : MEDIA4TH ALLIANCE" />
	<meta name="description" content="미디어포스, 1세대 웹에이전시, 대형프로젝트, 웹사이트, 모바일, UI/UX, 온라인마케팅">
	<meta name="keywords" content="미디어포스, 1세대 웹에이전시, 대형프로젝트, 웹사이트, 모바일, UI/UX, 온라인마케팅">
	<link rel="canonical" href="http://www.m4a.co.kr/html/Works.html">
	<script src="../js/m4a.js"></script>
</head>
<body>
	
<div id="pageWrap" class="page-wrap">
	<div id="headBanner" class="head-banner" role="banner"></div>
	<header id="header" class="header" data-html-load="inc/header.shtml"></header>

	<div id="container" class="container" >
		<main id="mainContent" class="main-content works" role="main">
			<section class="hidden-obj" aria-hidden="true">
				<h1>WorksList M4A</h1>
			</section>

			<section  class="works-list-sec">
				<article class="works-list-art1">
                    <div id="worksList0" class="works-list">
                    </div>
                </article>
                <article class="works-list-art2">
                    <div id="worksList1" class="works-list">
                    </div>
                </article>
			</section>
		</main>
	</div>

	<footer id="footer" class="footer" data-html-load="inc/footer.shtml"></footer>
</div>
<script>

    window.addEventListener('scroll',function(){
        if(document.querySelector('html').scrollTop >= 30 && !document.querySelector('header').classList.contains('works')){
            document.querySelector('header').classList.add('works')
        }else if(document.querySelector('html').scrollTop < 30 && document.querySelector('header').classList.contains('works')){
            document.querySelector('header').classList.remove('works')
        }
    });
   
//jSon parsing
(function () {
    var html0 = [];
    var html1 = [];
    var xhttp = new XMLHttpRequest();
    xhttp.open("GET", "../json/works.json", true);
    xhttp.onreadystatechange = function() {
        if(this.readyState == 4 && this.status == 200) {
            var data = JSON.parse(this.response);
            data = data.m4aworks
            data[0].section1.forEach((elm,idx) => {   
                html0.push('<div class="list-item w-detail ' + elm.type + ' n' + idx +'">')
                elm.url? html0.push('<a href="'+elm.url+'" class="link-block">'): html0.push('<div class="link-block">')
                    elm.img ? html0.push('<div class="img-sec" style="background-image:url(' + elm.img + ');"></div>') : '';
                    html0.push('<div class="info-sec">')
                        elm.ptn ? html0.push('<div class="ptn">' + elm.ptn + '</div>') : '';
                        elm.name ? html0.push('<div class="name">' + elm.name + '</div>') : '';
                        elm.date ? html0.push('<div class="date etc" role="text"><b>DATE.</b> ' + elm.date + '</div>') : '';
                        elm.kind ? html0.push('<div class="kind etc" role="text"><b>OUTPUT.</b> ' + elm.kind + '</div>') : '';
                    html0.push('</div>')
                    elm.url? html0.push('</a>'): html0.push('</div>')
                html0.push('</div>');
            })
            html0=(html0.join(''))
            document.querySelector('#worksList0').innerHTML=html0

            html0=[];
            data[1].section2.forEach((elm,idx) => {  
                html0.push('<div class="list-item w-detail ' + elm.type + ' n' + idx +'">')
                elm.url? html0.push('<a href="'+elm.url+'" class="link-block">'): html0.push('<div class="link-block">')
                    elm.img ? html0.push('<div class="img-sec" style="background-image:url(' + elm.img + ');"></div>') : html0.push('<div class="img-sec"></div>');
                    html0.push('<div class="info-sec">')
                        elm.ptn ? html0.push('<div class="ptn">' + elm.ptn + '</div>') : '';
                        elm.name ? html0.push('<div class="name">' + elm.name + '</div>') : '';
                        elm.date ? html0.push('<div class="date etc" role="text"><b>DATE.</b> ' + elm.date + '</div>') : '';
                        elm.kind ? html0.push('<div class="kind etc" role="text"><b>OUTPUT.</b> ' + elm.kind + '</div>') : '';
                    html0.push('</div>')
                    elm.url? html0.push('</a>'): html0.push('</div>')
                html0.push('</div>');
            })
            html0=(html0.join(''))
            document.querySelector('#worksList1').innerHTML=html0

            
            var options = {threhold: 1}
            var io = new IntersectionObserver((entries,observer) => {
                entries.forEach(entry => {
                // 관찰 대상이 viewport 안에 들어온 경우  클래스를 추가
                    if (entry.isIntersecting) {
                        entry.target.classList.add('observe');
                    }
                    // 그 외의 경우 ' 클래스 제거
                    else {
                        entry.target.classList.remove('observe');
                    }
                });
            },options);

            // 관찰할 대상을 선언하고, 해당 속성을 관찰시킨다.
            var boxElList = document.querySelectorAll('.list-item');
            boxElList.forEach((el) => {
                io.observe(el);
            });
         
        }
    }
    xhttp.send();

    
})();
</script>
</body>
</html>

